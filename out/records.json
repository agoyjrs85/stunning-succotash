{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://platform.codeclimate.com/schemas/records","title":"Code Climate Platform Schema","description":"Schema for Code Climate Connector records","$ref":"#/$definitions/record","$definitions":{"record":{"oneOf":[{"$id":"https://platform.codeclimate.com/schemas/records/streamfad","$ref":"#/$definitions/stream"},{"$ref":"#/$definitions/actor"},{"$ref":"#/$definitions/repository"},{"$ref":"#/$definitions/incident"},{"$ref":"#/$definitions/deliveryWorkflow"},{"$ref":"#/$definitions/deliveryBuild"},{"$ref":"#/$definitions/deliveryJob"},{"$ref":"#/$definitions/testResult"},{"$ref":"#/$definitions/coverageTotals"},{"$ref":"#/$definitions/fileCoverage"}],"required":["type"]},"stream":{"$id":"https://platform.codeclimate.com/schemas/records/stream","type":"object","description":"Streams are data sources that can be subscribed to.","properties":{"type":{"type":"string","const":"Stream"},"attributes":{"type":"object","properties":{"id":{"type":"string","description":"An ID for this stream. Should be unique within the context of this connector for a given configuration."},"self":{"description":"The canonical URL for this stream","type":"string","format":"uri"},"name":{"type":"string","description":"A name for this stream"},"htmlUrl":{"description":"The URL for a human to view this stream","type":"string","format":"uri"},"description":{"description":"A description of this stream","type":"string"},"record":{"description":"A stream may be a representation of another record - use the URI of that record here if desired.","type":"string","format":"uri"},"recordType":{"description":"The `type` of the record referred to by the `record` URI, if present","type":"string"},"subscribed":{"type":"boolean","description":"Represents if the stream has been subscribed to by a user within Code Climate"}},"required":["id","self","name"]},"required":["type","attributes"]}},"actor":{"type":"object","description":"Actors are human or non-humans that perform actions.","properties":{"type":{"type":"string","const":"Actor"},"attributes":{"type":"object","properties":{"id":{"description":"The unique ID of this actor","type":"string"},"self":{"description":"The canonical URI for this record","type":"string","format":"uri"},"name":{"description":"The name of the actor","type":"string"},"email":{"description":"The name of the email","type":"string"},"bot":{"type":"boolean","description":"indicates the actor is not a human"},"htmlUrl":{"type":"string","description":"A web URL for this actor","format":"uri"},"avatarUrl":{"type":"string","description":"a URL for an avatar for this actor","format":"uri"},"createdAt":{"description":"The time actor repository was created","type":"string","format":"date-time"},"updatedAt":{"description":"The time this actor was updated","type":"string","format":"date-time"},"deletedAt":{"description":"The time this actor was deleted","type":"string","format":"date-time"}},"required":["id","self"]},"required":["type","attributes"]}},"repository":{"type":"object","description":"A code repository.","properties":{"type":{"type":"string","const":"Repository"},"attributes":{"type":"object","properties":{"id":{"description":"The unique ID of this repository.","type":"string"},"self":{"description":"The canonical URI for this record.","type":"string","format":"uri"},"owner":{"description":"The owning entity of the repository - usually an organization or a user.","type":"object","properties":{"id":{"description":"The id of the owner.","type":"string"},"type":{"description":"What type of owner this is.","type":"string","enum":["user","organization"]},"name":{"description":"The owner's canonical name, e.g. a username.","type":"string"},"htmlUrl":{"description":"A web URL for this owner.","type":"string","format":"uri"},"avatarUrl":{"description":"An avatar for this owner.","type":"string","format":"uri"}},"required":["id","type","name"]},"name":{"description":"The name of the repository","type":"string"},"htmlUrl":{"description":"The URL of this repository on the web","type":"string","format":"uri"},"defaultBranch":{"description":"The default branch of this repository","type":"string","default":"master"},"languages":{"description":"Languages used in this array","type":"array","items":{"type":"string"}},"fork":{"description":"A flag to mark this repository as a fork","type":"boolean"},"private":{"description":"A flag to mark this repository as private (if false, that indicates the repository is public)","type":"boolean"},"createdAt":{"description":"The time this repository was created","type":"string","format":"date-time"},"updatedAt":{"description":"The time this repository was updated","type":"string","format":"date-time"},"deletedAt":{"description":"The time this repository was deleted","type":"string","format":"date-time"}},"required":["id","self","owner","name"]},"required":["type","attributes"]}},"incident":{"type":"object","description":"Incidents are a normalized, de-duplicated event. It can be thought of as a problem or an issue within your service that needs to be addressed and resolved.","properties":{"type":{"type":"string","const":"Incident"},"attributes":{"type":"object","properties":{"id":{"description":"The unique ID of this incident from the incident response platform","type":"string"},"self":{"description":"The canonical URI for this record","type":"string","format":"uri"},"title":{"description":"The human-readable title of this incident","type":"string"},"htmlUrl":{"description":"The URL for a human to view this incident","type":"string","format":"uri"},"number":{"description":"The number identifying this incident","type":"integer"},"status":{"description":"The status of this incident","enum":["triggered","acknowledged","resolved"]},"createdAt":{"description":"The time this incident began.","type":"string","format":"date-time"},"updatedAt":{"description":"The time this incident was last updated.","type":"string","format":"date-time"},"deletedAt":{"description":"The time this incident was deleted.","type":"string","format":"date-time"}},"required":["id","self","title","htmlUrl","number","status","createdAt"]},"required":["type","attributes"]}},"deliveryWorkflow":{"type":"object","description":"A configuration for running a Build within a CI system.","properties":{"type":{"type":"string","const":"DeliveryWorkflow"},"attributes":{"type":"object","properties":{"id":{"description":"The unique ID of this Workflow.","type":"string"},"self":{"description":"The canonical URI for this record.","type":"string","format":"uri"},"name":{"description":"The name of this Workflow.","type":"string"},"htmlUrl":{"description":"The URL to view this Workflow.","type":"string","format":"uri"},"createdAt":{"description":"The time this Workflow was created.","type":"string","format":"date-time"},"updatedAt":{"description":"The time this Workflow was last updated.","type":"string","format":"date-time"},"deletedAt":{"description":"The time Workflow was deleted.","type":"string","format":"date-time"}},"required":["id","self","name"]},"required":["type","attributes"]}},"deliveryBuild":{"type":"object","description":"A Build run within a CI system.","properties":{"type":{"type":"string","const":"DeliveryBuild"},"attributes":{"type":"object","properties":{"id":{"description":"The unique ID of this Build.","type":"string"},"self":{"description":"The canonical URI for this record.","type":"string","format":"uri"},"number":{"description":"The number identifying this Build, if available","type":"integer"},"workflow":{"description":"The `self` URI of the related Workflow, if it exists.","type":"string","format":"uri"},"repository":{"description":"The `self` URI of the related Repository, if it exists.","type":"string","format":"uri"},"state":{"description":"The state of the Build.","type":"string","enum":["created","running","errored","complete"]},"commitOid":{"description":"The oid of the Commit this Build ran on, if present.","type":"string"},"branch":{"description":"The name of the branch this Build ran on, if present.","type":"string"},"htmlUrl":{"description":"The URL to view this Build.","type":"string","format":"uri"},"createdAt":{"description":"The time this build was created.","type":"string","format":"date-time"},"updatedAt":{"description":"The time this build was last updated.","type":"string","format":"date-time"},"finishedAt":{"description":"The time this build finished.","type":"string","format":"date-time"},"deletedAt":{"description":"The time build was deleted.","type":"string","format":"date-time"}},"required":["id","self","repository","state","commitOid"]},"required":["type","attributes"]}},"deliveryJob":{"type":"object","description":"A Job that ran as part of a Build.","properties":{"type":{"type":"string","const":"DeliveryJob"},"attributes":{"type":"object","properties":{"id":{"description":"The unique ID of this Job.","type":"string"},"self":{"description":"The canonical URI for this record.","type":"string","format":"uri"},"build":{"description":"The `self` URI of the related Build.","type":"string","format":"uri"},"description":{"description":"The description of this Job.","type":"string"},"state":{"description":"The state of the Build.","type":"string","enum":["created","running","errored","complete"]},"htmlUrl":{"description":"The URL to view this Build.","type":"string","format":"uri"},"createdAt":{"description":"The time this build was created.","type":"string","format":"date-time"},"updatedAt":{"description":"The time this build was last updated.","type":"string","format":"date-time"},"finishedAt":{"description":"The time this build finished.","type":"string","format":"date-time"},"deletedAt":{"description":"The time build was deleted.","type":"string","format":"date-time"}},"required":["id","self","build"]},"required":["type","attributes"]}},"testResult":{"type":"object","description":"The result of a test from a Build","properties":{"type":{"type":"string","const":"TestResult"},"attributes":{"type":"object","properties":{"id":{"description":"The unique ID of this test result record.","type":"string"},"self":{"description":"The canonical URI for this record.","type":"string","format":"uri"},"build":{"description":"The `self` URI of the related Build.","type":"string","format":"uri"},"job":{"description":"The `self` URI of the related Job.","type":"string","format":"uri"},"state":{"description":"The state of the test result","type":"string","enum":["passed","failed"]},"file":{"description":"The file in which this test is defined.","type":"string"},"message":{"description":"The associated message for this result.","type":"string"},"name":{"description":"The name of the test.","type":"string"},"createdAt":{"description":"The time this build was created.","type":"string","format":"date-time"},"updatedAt":{"description":"The time this build was last updated.","type":"string","format":"date-time"},"finishedAt":{"description":"The time this build finished.","type":"string","format":"date-time"},"deletedAt":{"description":"The time build was deleted.","type":"string","format":"date-time"}},"required":["id","self","build"]},"required":["type","attributes"]}},"coverageTotals":{"type":"object","description":"Information about test coverage of a commit.","properties":{"type":{"type":"string","const":"CoverageTotals"},"attributes":{"type":"object","properties":{"self":{"description":"The canonical URI for this record.","type":"string","format":"uri"},"repository":{"description":"The `self` URI of the Repository this test coverage applies to.","type":"string","format":"uri"},"commitOid":{"description":"The commit oid this test coverage is for.","type":"string"},"coverage":{"description":"The coverage of this test coverage result, as a percentage","type":"number","minimum":0,"maximum":100},"filesCount":{"description":"The number of files.","type":"integer","minimum":0},"linesCount":{"description":"The total number of lines under test.","type":"integer","minimum":0},"linesHitCount":{"description":"The number of lines hit by the tests.","type":"integer","minimum":0},"linesMissedCount":{"description":"The number of lines missed by the tests.","type":"integer","minimum":0},"branchesCount":{"description":"The number of branches.","type":"integer","minimum":0},"methodsCount":{"description":"The number of methods tested.","type":"integer","minimum":0},"htmlUrl":{"description":"The URL to view this coverage.","type":"string","format":"uri"},"createdAt":{"description":"The time this coverage was created.","type":"string","format":"date-time"},"updatedAt":{"description":"The time this coverage was last updated.","type":"string","format":"date-time"},"deletedAt":{"description":"The time coverage was deleted.","type":"string","format":"date-time"}},"required":["id","self","repository","commitOid","coverage"]},"required":["type","attributes"]}},"fileCoverage":{"type":"object","description":"Information about test coverage of a file within a commit.","properties":{"type":{"type":"string","const":"FileCoverage"},"attributes":{"type":"object","properties":{"self":{"description":"The canonical URI for this record.","type":"string","format":"uri"},"repository":{"description":"The `self` URI of the Repository this test coverage applies to.","type":"string","format":"uri"},"commitOid":{"description":"The commit oid this test coverage is for.","type":"string"},"file":{"description":"The path of the file for these test results.","type":"string"},"lineHits":{"description":"The number of hits on each line in the file, starting with line 1. An entry for every line should be present.","type":"array","items":{"$oneOf":[{"type":"integer"},{"type":"null"}]}},"filesCount":{"description":"The number of files.","type":"integer","minimum":0},"htmlUrl":{"description":"The URL to view this coverage.","type":"string","format":"uri"},"createdAt":{"description":"The time this coverage was created.","type":"string","format":"date-time"},"updatedAt":{"description":"The time this coverage was last updated.","type":"string","format":"date-time"},"deletedAt":{"description":"The time coverage was deleted.","type":"string","format":"date-time"}},"required":["id","self","repository","commitOid","lineHits"]},"required":["type","attributes"]}}}}
